search_space:
  backbone:
    type: "choice"
    values: ["distilbert"]  # ["distilbert", "distilroberta"]
    # Note: "deberta" excluded from smoke tests due to CUDA/NVRTC issues on Windows
    # DeBERTa requires nvrtc-builtins64_129.dll which may not be available in all environments
  
  learning_rate:
    type: "loguniform"
    min: 1e-5
    max: 5e-5
  
  batch_size:
    type: "choice"
    values: [4]
  
  dropout:
    type: "uniform"
    min: 0.1
    max: 0.3
  
  weight_decay:
    type: "loguniform"
    min: 0.001
    max: 0.1

sampling:
  algorithm: "random"
  max_trials: 2
  timeout_minutes: 20

# Checkpoint configuration for HPO resume support
# Enables saving study state to SQLite database for resuming interrupted runs
checkpoint:
  enabled: true  # Set to true to enable checkpointing (useful for Colab/Kaggle)
  storage_path: "{backbone}/study.db"  # Relative to output_dir, {backbone} placeholder
  auto_resume: false  # Automatically resume if checkpoint exists (only if enabled=true)

early_termination:
  policy: "bandit"
  evaluation_interval: 1
  slack_factor: 0.2
  delay_evaluation: 2

objective:
  metric: "macro-f1"
  goal: "maximize"

k_fold:
  enabled: true
  n_splits: 3
  random_seed: 42
  shuffle: true
  stratified: true